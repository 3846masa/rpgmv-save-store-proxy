'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _express = require('express');

var _expressRestifyMongoose = require('express-restify-mongoose');

var _expressRestifyMongoose2 = _interopRequireDefault(_expressRestifyMongoose);

var _mongoose = require('mongoose');

var _mongoose2 = _interopRequireDefault(_mongoose);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const ENV = process.env;
let mongoUrl = ENV.MONGO_URL || ENV.MONGOLAB_URI || ENV.MONGOHQ_URL || (ENV.MONGO_PORT_27017_TCP_ADDR && ENV.MONGO_PORT_27017_TCP_PORT ? `mongodb://${ ENV.MONGO_PORT_27017_TCP_ADDR }:${ ENV.MONGO_PORT_27017_TCP_PORT }/RPGMVSave` : 'mongodb://localhost/RPGMVSave');
console.log(mongoUrl);
_mongoose2.default.connect(mongoUrl);

let router = (0, _express.Router)();
let saveModel = _mongoose2.default.model('RPGMVSave', new _mongoose2.default.Schema({
  host: { type: String, required: true, unique: true },
  storage: { type: String, required: true }
}));
_expressRestifyMongoose2.default.serve(router, saveModel);

exports.default = router;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tb25nby1yb3V0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSUEsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUN4QixJQUFJLFFBQVEsR0FDVixHQUFHLENBQUMsU0FBUyxJQUNiLEdBQUcsQ0FBQyxZQUFZLElBQ2hCLEdBQUcsQ0FBQyxXQUFXLEtBQ2QsQUFBQyxHQUFHLENBQUMseUJBQXlCLElBQUksR0FBRyxDQUFDLHlCQUF5QixHQUNoRSxDQUFDLFVBQVUsR0FBRSxHQUFHLENBQUMseUJBQXlCLEVBQUMsQ0FBQyxHQUFFLEdBQUcsQ0FBQyx5QkFBeUIsRUFBQyxVQUFVLENBQUMsR0FDdkYsK0JBQStCLENBQUEsQUFBQyxDQUFDO0FBQ25DLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDdEIsbUJBQVMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDOztBQUUzQixJQUFJLE1BQU0sR0FBRyxhQWZKLE1BQU0sR0FlTSxDQUFDO0FBQ3RCLElBQUksU0FBUyxHQUFHLG1CQUFTLEtBQUssQ0FDNUIsV0FBVyxFQUNYLElBQUksbUJBQVMsTUFBTSxDQUFDO0FBQ2xCLE1BQUksRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO0FBQ3BELFNBQU8sRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRTtDQUMxQyxDQUFDLENBQ0gsQ0FBQztBQUNGLGlDQUFRLEtBQUssQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7O2tCQUVsQixNQUFNIiwiZmlsZSI6Im1vbmdvLXJvdXRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJvdXRlciB9IGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHJlc3RpZnkgZnJvbSAnZXhwcmVzcy1yZXN0aWZ5LW1vbmdvb3NlJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IEVOViA9IHByb2Nlc3MuZW52O1xubGV0IG1vbmdvVXJsID1cbiAgRU5WLk1PTkdPX1VSTCB8fFxuICBFTlYuTU9OR09MQUJfVVJJIHx8XG4gIEVOVi5NT05HT0hRX1VSTCB8fFxuICAoKEVOVi5NT05HT19QT1JUXzI3MDE3X1RDUF9BRERSICYmIEVOVi5NT05HT19QT1JUXzI3MDE3X1RDUF9QT1JUKSA/XG4gIGBtb25nb2RiOi8vJHtFTlYuTU9OR09fUE9SVF8yNzAxN19UQ1BfQUREUn06JHtFTlYuTU9OR09fUE9SVF8yNzAxN19UQ1BfUE9SVH0vUlBHTVZTYXZlYCA6XG4gICdtb25nb2RiOi8vbG9jYWxob3N0L1JQR01WU2F2ZScpO1xuY29uc29sZS5sb2cobW9uZ29VcmwpO1xubW9uZ29vc2UuY29ubmVjdChtb25nb1VybCk7XG5cbmxldCByb3V0ZXIgPSBSb3V0ZXIoKTtcbmxldCBzYXZlTW9kZWwgPSBtb25nb29zZS5tb2RlbChcbiAgJ1JQR01WU2F2ZScsXG4gIG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICAgIGhvc3Q6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgc3RvcmFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH1cbiAgfSlcbik7XG5yZXN0aWZ5LnNlcnZlKHJvdXRlciwgc2F2ZU1vZGVsKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl19