'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _express = require('express');

var _expressRestifyMongoose = require('express-restify-mongoose');

var _expressRestifyMongoose2 = _interopRequireDefault(_expressRestifyMongoose);

var _mongoose = require('mongoose');

var _mongoose2 = _interopRequireDefault(_mongoose);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const ENV = process.env;
let mongoUrl = ENV.MONGO_URL || ENV.MONGOLAB_URI || ENV.MONGOHQ_URL || (ENV.MONGO_PORT_27017_TCP_ADDR && ENV.MONGO_PORT_27017_TCP_PORT ? `mongodb://${ ENV.MONGO_PORT_27017_TCP_ADDR }:${ ENV.MONGO_PORT_27017_TCP_PORT }/RPGMVSave` : 'mongodb://localhost/RPGMVSave');
_mongoose2.default.connect(mongoUrl);

let router = (0, _express.Router)();
let saveModel = _mongoose2.default.model('RPGMVSave', new _mongoose2.default.Schema({
  host: { type: String, required: true, unique: true },
  storage: { type: String, required: true }
}));
_expressRestifyMongoose2.default.serve(router, saveModel);

exports.default = router;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tb25nby1yb3V0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBSUEsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUN4QixJQUFJLFFBQVEsR0FDVixHQUFHLENBQUMsU0FBUyxJQUNiLEdBQUcsQ0FBQyxZQUFZLElBQ2hCLEdBQUcsQ0FBQyxXQUFXLEtBQ2QsQUFBQyxHQUFHLENBQUMseUJBQXlCLElBQUksR0FBRyxDQUFDLHlCQUF5QixHQUNoRSxDQUFDLFVBQVUsR0FBRSxHQUFHLENBQUMseUJBQXlCLEVBQUMsQ0FBQyxHQUFFLEdBQUcsQ0FBQyx5QkFBeUIsRUFBQyxVQUFVLENBQUMsR0FDdkYsK0JBQStCLENBQUEsQUFBQyxDQUFDO0FBQ25DLG1CQUFTLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFM0IsSUFBSSxNQUFNLEdBQUcsYUFkSixNQUFNLEdBY00sQ0FBQztBQUN0QixJQUFJLFNBQVMsR0FBRyxtQkFBUyxLQUFLLENBQzVCLFdBQVcsRUFDWCxJQUFJLG1CQUFTLE1BQU0sQ0FBQztBQUNsQixNQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtBQUNwRCxTQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7Q0FDMUMsQ0FBQyxDQUNILENBQUM7QUFDRixpQ0FBUSxLQUFLLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDOztrQkFFbEIsTUFBTSIsImZpbGUiOiJtb25nby1yb3V0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdleHByZXNzJztcbmltcG9ydCByZXN0aWZ5IGZyb20gJ2V4cHJlc3MtcmVzdGlmeS1tb25nb29zZSc7XG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBFTlYgPSBwcm9jZXNzLmVudjtcbmxldCBtb25nb1VybCA9XG4gIEVOVi5NT05HT19VUkwgfHxcbiAgRU5WLk1PTkdPTEFCX1VSSSB8fFxuICBFTlYuTU9OR09IUV9VUkwgfHxcbiAgKChFTlYuTU9OR09fUE9SVF8yNzAxN19UQ1BfQUREUiAmJiBFTlYuTU9OR09fUE9SVF8yNzAxN19UQ1BfUE9SVCkgP1xuICBgbW9uZ29kYjovLyR7RU5WLk1PTkdPX1BPUlRfMjcwMTdfVENQX0FERFJ9OiR7RU5WLk1PTkdPX1BPUlRfMjcwMTdfVENQX1BPUlR9L1JQR01WU2F2ZWAgOlxuICAnbW9uZ29kYjovL2xvY2FsaG9zdC9SUEdNVlNhdmUnKTtcbm1vbmdvb3NlLmNvbm5lY3QobW9uZ29VcmwpO1xuXG5sZXQgcm91dGVyID0gUm91dGVyKCk7XG5sZXQgc2F2ZU1vZGVsID0gbW9uZ29vc2UubW9kZWwoXG4gICdSUEdNVlNhdmUnLFxuICBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgICBob3N0OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHN0b3JhZ2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9XG4gIH0pXG4pO1xucmVzdGlmeS5zZXJ2ZShyb3V0ZXIsIHNhdmVNb2RlbCk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdfQ==